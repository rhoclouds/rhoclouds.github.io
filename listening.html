<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="/icons/blazePowder16x16.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder32x32.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder512x512.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder192x192.png" type="image/png">
    <link rel="icon" href="/icons/blazePowderAppleTouchIcon.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>what i've been listening to lately - rhoclouds</title>
    <link rel="stylesheet" href="/css/main-style.css">
    <link rel="stylesheet" href="/css/blog-styles.css">
    <link rel="preconnect" href="https://open.spotify.com">
    <link rel="preconnect" href="https://i.scdn.co">
</head>

<body class="light-mode">
<div class="wrapper">
    <nav>
        <a href="https://rhoclouds.github.io/">home</a>
        <a href="/library.html">library</a>
        <a href="/blog.html">blog</a>
    </nav>
    <div class="content">
        <div class="container">
            <h1 class="post-title">what i've been listening to lately</h1>
            <div class="post-content">
                <div class="post-subheader">be careful with volume!</div>
                
                <section class="listen-archive" aria-label="Listening history carousel">
  <header class="la-header">
    <div class="la-controls">
      <button class="la-btn" data-dir="-1" aria-label="Previous">‹</button>
      <button class="la-btn" data-dir="1"  aria-label="Next">›</button>
    </div>
  </header>

  <div class="la-track" id="la-track">
<article class="la-slide" data-date="2025-08-09" aria-label="August 9, 2025">
  <h3 class="la-date">august 9, 2025</h3>
  <div class="la-cards">
    <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
    <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
    <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
    <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
    <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
  </div>
</article>

    <!-- SLIDE: Jun 15, 2025 -->
    <article class="la-slide" data-date="2025-06-15" aria-label="June 15, 2025">
      <h3 class="la-date">june 15, 2025</h3>
      <div class="la-cards">
        <div class="embed" data-src="https://open.spotify.com/embed/track/0EYoG9Z0q0C0K1MCs1hQQl"></div>
        <div class="embed" data-src="https://open.spotify.com/embed/track/0LZy30mVmxqUpdQmaXKXBd"></div>
        <div class="embed" data-src="https://open.spotify.com/embed/track/21aVkXDch0A1nXo9he3j8L"></div>
        <div class="embed" data-src="https://open.spotify.com/embed/track/6qqrTXSdwiJaq8SO0X2lSe"></div>
        <div class="embed" data-src="https://open.spotify.com/embed/track/3WgSSo4SoHQjodjiRG71eX"></div>
      </div>
    </article>

    <!-- add new dates above -->
    <!--
    <article class="la-slide" data-date="2025-08-09" aria-label="August 9, 2025">
      <h3 class="la-date">august 9, 2025</h3>
      <div class="la-cards">
        <div class="embed" data-src="https://open.spotify.com/embed/track/XXXXXXXX"></div>
        ...
      </div>
    </article>
    -->
  </div>
</section>

<script>
(function(){
  const track = document.getElementById('la-track');
  if (!track) return;

  const slides = Array.from(track.querySelectorAll('.la-slide'));
  const prevBtn = document.querySelector('.la-btn[data-dir="-1"]');
  const nextBtn = document.querySelector('.la-btn[data-dir="1"]');

  let currentIndex = 0;

  function mountEmbeds(slide){
    slide.querySelectorAll('.embed').forEach(holder => {
      if (holder.firstChild) return;
      const src = holder.getAttribute('data-src');
      if (!src) return;
      const f = document.createElement('iframe');
      f.setAttribute('allow','autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture');
      f.setAttribute('loading','lazy');
      f.src = src;
      holder.appendChild(f);
    });
  }

  function unmountEmbeds(slide){
    slide.querySelectorAll('.embed').forEach(holder => { holder.innerHTML = ''; });
  }

  function updateButtons(){
    prevBtn.disabled = (currentIndex === 0);
    nextBtn.disabled = (currentIndex === slides.length - 1);
  }

  function showSlide(index){
    if (index < 0) index = 0;
    if (index >= slides.length) index = slides.length - 1;
    if (index === currentIndex) return;

    // Deactivate old
    const old = slides[currentIndex];
    if (old){
      old.removeAttribute('data-active');
      unmountEmbeds(old);
      old.setAttribute('aria-hidden', 'true');
    }

    // Activate new
    const s = slides[index];
    s.setAttribute('data-active','true');
    s.removeAttribute('aria-hidden');
    mountEmbeds(s);

    currentIndex = index;
    updateButtons();
  }

  // Button handlers
  prevBtn.addEventListener('click', () => showSlide(currentIndex - 1));
  nextBtn.addEventListener('click', () => showSlide(currentIndex + 1));

  // Keyboard arrows (when buttons or slide are focused)
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') { showSlide(currentIndex - 1); }
    if (e.key === 'ArrowRight') { showSlide(currentIndex + 1); }
  });

  // Initialize: show first slide only
  slides.forEach(s => { s.setAttribute('aria-hidden','true'); s.inert = true; });
  if (slides.length){
    slides[0].setAttribute('data-active','true');
    slides[0].removeAttribute('aria-hidden');
    slides[0].inert = false;
    mountEmbeds(slides[0]);
  }
  updateButtons();

})();
</script>
</body>
</html>