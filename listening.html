<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="/icons/blazePowder16x16.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder32x32.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder512x512.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder192x192.png" type="image/png">
    <link rel="icon" href="/icons/blazePowderAppleTouchIcon.png" type="image/png">
    <link rel="icon" href="/icons/blazePowder.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>what i've been listening to lately - rhoclouds</title>
    <link rel="stylesheet" href="/css/static-styles.css">
    <link rel="stylesheet" href="/css/spotify-styles.css">
    <link rel="stylesheet" href="/css/main-style.css">
    <link rel="preconnect" href="https://open.spotify.com">
    <link rel="preconnect" href="https://i.scdn.co">

<style>
   .card {
  background: white;
  color: #222;
  border-radius: 20px;
  padding: 1.2rem 1.5rem; /* reduced padding */
  width: 100%;
  max-width: 600px; /* prevents it from being too wide */
  margin: 0 auto 1.5rem; /* centers it and adds space between cards */
  box-sizing: border-box;
  position: relative;
  z-index: 1;
  box-shadow:
    0 6px 20px rgba(0,0,0,0.08),
    inset 0 0 12px rgba(255,255,255,0.4);
}
</style>
</head>

<body class="light-mode">
<div class="wrapper">
    <nav>
        <a href="https://rhoclouds.github.io/">home</a>
        <a href="/library.html">library</a>
        <a href="/blog.html">blog</a>
    </nav>

 <div class="content">
    <div class="container">
      <!-- Card-wrapped, button-only carousel -->
      <div class="card listening-card">
        <section class="listen-archive" aria-label="Listening history">
          <header class="la-header">
            <h2 class="la-title">listening history</h2>
            <h1> be careful with volume !! </h1>
            <div class="la-controls">
              <button class="la-btn" data-dir="-1" aria-label="Previous">‹</button>
              <button class="la-btn" data-dir="1"  aria-label="Next">›</button>
            </div>
          </header>

          <div class="la-track" id="la-track">
            <!-- SLIDE: most recent -->
            <article class="la-slide" data-date="2025-08-09" aria-label="August 9, 2025">
              <h3 class="la-date">august 9, 2025</h3>
              <div class="la-cards">
                <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/5sBDrrtLGbV64QJnEqfjer"></div>
              </div>
            </article>

            <!-- SLIDE: Jun 15, 2025 -->
            <article class="la-slide" data-date="2025-06-15" aria-label="June 15, 2025">
              <h3 class="la-date">june 15, 2025</h3>
              <div class="la-cards">
                <div class="embed" data-src="https://open.spotify.com/embed/track/0EYoG9Z0q0C0K1MCs1hQQl"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/0LZy30mVmxqUpdQmaXKXBd"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/21aVkXDch0A1nXo9he3j8L"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/6qqrTXSdwiJaq8SO0X2lSe"></div>
                <div class="embed" data-src="https://open.spotify.com/embed/track/3WgSSo4SoHQjodjiRG71eX"></div>
              </div>
            </article>
          </div>
        </section>
      </div>
      <!-- /card -->
    </div>
  </div>
</div>

<script>
(function(){
  const track = document.getElementById('la-track');
  if (!track) return;

  const slides = Array.from(track.querySelectorAll('.la-slide'));
  const prevBtn = document.querySelector('.la-btn[data-dir="-1"]');
  const nextBtn = document.querySelector('.la-btn[data-dir="1"]');

  let currentIndex = 0;

  function makeIframe(src){
    const f = document.createElement('iframe');
    f.setAttribute('allow','autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture');
    f.setAttribute('loading','lazy');
    f.setAttribute('width','100%');
    f.setAttribute('height','80');
    f.setAttribute('frameborder','0');
    f.setAttribute('allowtransparency','true');
    f.src = src;
    return f;
  }

  function mountEmbeds(slide){
    slide.querySelectorAll('.embed').forEach(holder => {
      if (holder.firstChild) return;
      const src = holder.getAttribute('data-src');
      if (src) holder.appendChild(makeIframe(src));
    });
  }

  function unmountEmbeds(slide){
    slide.querySelectorAll('.embed').forEach(h => { h.innerHTML = ''; });
  }

  function updateButtons(){
    if (prevBtn) prevBtn.disabled = (currentIndex === 0);
    if (nextBtn) nextBtn.disabled = (currentIndex === slides.length - 1);
  }

  function showSlide(index){
    if (index < 0 || index >= slides.length || index === currentIndex) return;

    const prev = slides[currentIndex];
    const next = slides[index];

    if (prev){
      prev.removeAttribute('data-active');
      unmountEmbeds(prev);
    }

    next.setAttribute('data-active','true');
    requestAnimationFrame(() => mountEmbeds(next));

    currentIndex = index;
    updateButtons();
  }

  // Buttons
  if (prevBtn) prevBtn.addEventListener('click', () => showSlide(currentIndex - 1));
  if (nextBtn) nextBtn.addEventListener('click', () => showSlide(currentIndex + 1));

  // Init
  slides.forEach(s => s.removeAttribute('data-active'));
  if (slides.length){
    slides[0].setAttribute('data-active','true');
    mountEmbeds(slides[0]);
  }
  updateButtons();
})();
</script>

</body>

</html>